#include <stdlib.h>
#include<stdio.h>
#include<signal.h>

uint64_t read_vuln(uintptr_t addr) {
	return *((uint64_t *) addr);
}

uintptr_t feng_shui() {
	return (uintptr_t) malloc(1);
}

void handle_sig(int sig) {
	printf("lulz u got trolled\n");
}

void exploit_loop() {
	signal(SIGSEGV, handle_sig);	

	int fd; 
  
    // FIFO file path 
    char * myfifo = "/tmp/myfifo"; 
  
    // Creating the named file(FIFO) 
    // mkfifo(<pathname>, <permission>) 
    mkfifo(myfifo, 0666); 

	while(1) {
		// write heap feng shui
		// writes address to the pipe
	}
}
